{"version":3,"sources":["dashboard.js"],"names":["express","require","connection","Router","auth","router","get","authenticateToken","req","res","next","productCount","billCount","query","categoryCount","status","json","err","results","category","product","bill","data","module","exports"],"mappings":"aAAA,IAAMA,QAAQC,QAAQ,WAChBC,WAAWD,QAAQ,iBADnBD,OAAOA,QAAQG,SAGjBC,KAAKH,QAAQ,8BAEjBI,OAAOC,IAAI,WAAWF,KAAKG,kBAAkB,SAACC,EAAIC,EAAIC,GAHhDL,IAAAA,EAKEM,EAJAC,EAMAC,EAAM,kDAJdR,WAAWQ,MAAXA,EAA0B,SAACN,EAAAA,GACnBO,GAAAA,EAGK,OAACL,EAAAM,OAAA,KAAAC,KAAAC,GAFNN,EAAJO,EAAA,GAAAJ,gBAIID,EAEK,gDACDX,WAAOO,MAAIM,EAAJ,SAAAE,EAAgBD,GAC1B,GAAAC,EAIK,OAAOJ,EAAAA,OAAM,KAAAG,KAAAC,GATvBN,EAAAO,EAAA,GAAAP,eAaQE,EAAOJ,0CACVP,WAAAW,MAAAA,EAAA,SAAAI,EAAAC,GALL,GAAAD,EAYQ,OAAAR,EAAAM,OAAA,KAAAC,KAAAC,GAJCL,EAACM,EAAA,GAAAN,UACA,IAACC,EAAMA,CACLM,SAAAL,EACKM,QAACF,EACFG,KAACT,GAELQ,OAAQT,EAAAA,OAFH,KAAAK,KAAAM,OAWpBC,OArCDC,QAAAnB","file":"dashboard.min.js","sourcesContent":["const express=require('express');\r\nconst connection=require('../connection');\r\nconst router=express.Router();\r\nvar auth=require('../services/authentication');\r\n\r\nrouter.get('/details',auth.authenticateToken,(req,res,next)=>{\r\n    var categoryCount;\r\n    var productCount;\r\n    var billCount;\r\n    var query=\"select count(id) as categoryCount from category\";\r\n    connection.query(query,(err,results)=>{\r\n        if(!err){\r\n            categoryCount=results[0].categoryCount;\r\n        }else{\r\n            return res.status(500).json(err);\r\n        }\r\n    })\r\n\r\n    var query=\"select count(id) as productCount from product\";\r\n    connection.query(query,(err,results)=>{\r\n        if(!err){\r\n            productCount=results[0].productCount;\r\n        }else{\r\n            return res.status(500).json(err);\r\n        }\r\n    })\r\n\r\n    var query=\"select count(id) as billCount from bill\";\r\n    connection.query(query,(err,results)=>{\r\n        if(!err){\r\n            billCount=results[0].billCount;\r\n            var data={\r\n                category:categoryCount,\r\n                product:productCount,\r\n                bill:billCount\r\n            };\r\n            return res.status(200).json(data);\r\n        }else{\r\n            return res.status(500).json(err);\r\n        }\r\n    })\r\n\r\n})\r\n\r\nmodule.exports=router;"]}