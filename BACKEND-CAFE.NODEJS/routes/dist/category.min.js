"use strict";var express=require("express"),connection=require("../connection"),router=express.Router(),auth=require("../services/authentication"),checkRole=require("../services/checkRole");router.post("/add",auth.authenticateToken,checkRole.checkRole,function(e,o,t){var n=e.body;query="insert into category(name) values(?)",connection.query(query,[n.name],function(e,t){return e?o.status(500).json(e):o.status(200).json({message:"Category Added Successfully"})})}),router.get("/get",auth.authenticateToken,function(e,o,t){connection.query("select * from category order by name",function(e,t){return e?o.status(500).json(e):o.status(200).json(t)})}),router.patch("/update",auth.authenticateToken,checkRole.checkRole,function(e,o,t){var n=e.body;connection.query("update category set name=? where id=?",[n.name,n.id],function(e,t){return e?o.status(500).json(e):0==t.affectedRows?o.status(404).json({message:"Category id does not found"}):o.status(200).json({message:"Category Updated Successfully"})})}),module.exports=router;
//# sourceMappingURL=category.min.js.map
