{"version":3,"sources":["category.js"],"names":["express","require","connection","router","Router","auth","checkRole","post","authenticateToken","req","res","next","category","body","query","name","err","results","status","json","message","get","patch","product","id","affectedRows","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAACC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAMC,UAAU,GAACD,OAAO,CAAC,eAAD,CAAxB;;AACA,IAAME,MAAM,GAACH,OAAO,CAACI,MAAR,EAAb;;AACA,IAAIC,IAAI,GAAEJ,OAAO,CAAC,4BAAD,CAAjB;;AACA,IAAIK,SAAS,GAACL,OAAO,CAAC,uBAAD,CAArB;;AAEAE,MAAM,CAACI,IAAP,CAAY,MAAZ,EAAmBF,IAAI,CAACG,iBAAxB,EAA0CF,SAAS,CAACA,SAApD,EAA8D,UAACG,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAgB;AAC1E,MAAIC,QAAQ,GAACH,GAAG,CAACI,IAAjB;AACAC,EAAAA,KAAK,GAAC,sCAAN;AACAZ,EAAAA,UAAU,CAACY,KAAX,CAAiBA,KAAjB,EAAuB,CAACF,QAAQ,CAACG,IAAV,CAAvB,EAAuC,UAACC,GAAD,EAAKC,OAAL,EAAe;AAClD,QAAG,CAACD,GAAJ,EAAQ;AACJ,aAAON,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACH,KAFD,MAGI;AACA,aAAOV,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,GAArB,CAAP;AACH;AACJ,GAPD;AAQH,CAXD;AAaAb,MAAM,CAACkB,GAAP,CAAW,MAAX,EAAkBhB,IAAI,CAACG,iBAAvB,EAAyC,UAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAgB;AACrD,MAAIG,KAAK,GAAC,sCAAV;AACAZ,EAAAA,UAAU,CAACY,KAAX,CAAiBA,KAAjB,EAAuB,UAACE,GAAD,EAAKC,OAAL,EAAe;AAClC,QAAG,CAACD,GAAJ,EAAQ;AACJ,aAAON,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,OAArB,CAAP;AACH,KAFD,MAGI;AACA,aAAOP,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,GAArB,CAAP;AACH;AACJ,GAPD;AAQH,CAVD;AAYAb,MAAM,CAACmB,KAAP,CAAa,SAAb,EAAuBjB,IAAI,CAACG,iBAA5B,EAA8CF,SAAS,CAACA,SAAxD,EAAkE,UAACG,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAgB;AAC9E,MAAIY,OAAO,GAACd,GAAG,CAACI,IAAhB;AACA,MAAIC,KAAK,GAAC,uCAAV;AACAZ,EAAAA,UAAU,CAACY,KAAX,CAAiBA,KAAjB,EAAuB,CAACS,OAAO,CAACR,IAAT,EAAcQ,OAAO,CAACC,EAAtB,CAAvB,EAAiD,UAACR,GAAD,EAAKC,OAAL,EAAe;AAC5D,QAAG,CAACD,GAAJ,EAAQ;AACJ,UAAGC,OAAO,CAACQ,YAAR,IAAwB,CAA3B,EAA6B;AACzB,eAAOf,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,UAAAA,OAAO,EAAC;AAAT,SAArB,CAAP;AACH;;AACD,aAAOV,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,QAAAA,OAAO,EAAC;AAAT,OAArB,CAAP;AACH,KALD,MAMI;AACA,aAAOV,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,GAArB,CAAP;AACH;AACJ,GAVD;AAWH,CAdD;AAgBAU,MAAM,CAACC,OAAP,GAAexB,MAAf","sourcesContent":["const express=require('express');\r\nconst connection=require('../connection');\r\nconst router=express.Router();\r\nvar auth= require('../services/authentication');\r\nvar checkRole=require('../services/checkRole');\r\n\r\nrouter.post('/add',auth.authenticateToken,checkRole.checkRole,(req,res,next)=>{\r\n    let category=req.body;\r\n    query=\"insert into category(name) values(?)\";\r\n    connection.query(query,[category.name],(err,results)=>{\r\n        if(!err){\r\n            return res.status(200).json({message:\"Category Added Successfully\"});\r\n        }\r\n        else{\r\n            return res.status(500).json(err);\r\n        }\r\n    })\r\n})\r\n\r\nrouter.get('/get',auth.authenticateToken,(req,res,next)=>{\r\n    var query=\"select * from category order by name\";\r\n    connection.query(query,(err,results)=>{\r\n        if(!err){\r\n            return res.status(200).json(results);\r\n        }\r\n        else{\r\n            return res.status(500).json(err);\r\n        }\r\n    })\r\n})\r\n\r\nrouter.patch('/update',auth.authenticateToken,checkRole.checkRole,(req,res,next)=>{\r\n    let product=req.body;\r\n    var query=\"update category set name=? where id=?\";\r\n    connection.query(query,[product.name,product.id],(err,results)=>{\r\n        if(!err){\r\n            if(results.affectedRows == 0){\r\n                return res.status(404).json({message:\"Category id does not found\"});\r\n            }\r\n            return res.status(200).json({message:\"Category Updated Successfully\"});\r\n        }\r\n        else{\r\n            return res.status(500).json(err);\r\n        }\r\n    })\r\n})\r\n\r\nmodule.exports=router;"],"file":"category.dev.js"}