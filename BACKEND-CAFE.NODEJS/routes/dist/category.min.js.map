{"version":3,"sources":["category.js"],"names":["express","require","connection","Router","auth","router","checkRole","req","res","next","category","body","query","name","err","results","status","json","message","get","authenticateToken","patch","product","id"],"mappings":"aAAA,IAAMA,QAAQC,QAAQ,WAChBC,WAAWD,QAAQ,iBADnBD,OAAOA,QAAQG,SAGjBC,KAAMH,QAAQ,8BAFZC,UAAUD,QAACA,yBACjBI,OAAMA,KAAM,OAACL,KAAQG,kBAArBG,UAAAA,UAAA,SAAAC,EAAAC,EAAAC,GAKI,IAAIC,EAASH,EAAII,KAJjBP,MAAI,uCAMJF,WAAWU,MAAMA,MAAM,CAACF,EAASG,MAAM,SAACC,EAAIC,GAL5CT,OAAAA,EAIME,EAAAQ,OAAA,KAAAC,KAAAH,GAGSN,EAAIQ,OAAO,KAAKC,KAAK,CAACC,QAAQ,oCAATb,OAArBc,IAAP,OAAAf,KAAAgB,kBAAA,SAAAb,EAAAC,EAAAC,GAGAP,WAAOM,MADP,uCACO,SAAAM,EAAgBG,GAC1B,OAAAH,EAKKN,EAAAQ,OAAA,KAAAC,KAAAH,GAXVN,EAAAQ,OAAA,KAAAC,KAAAF,OAiBQV,OAAAgB,MAAOb,UAAAJ,KAAAgB,kBAAPd,UAAAA,UAAA,SAAAC,EAAAC,EAAAC,GACH,IAAAa,EAAAf,EAAAI,KARTT,WAAAU,MAEI,wCAFJ,CAAAU,EAAAT,KAAAS,EAAAC,IAAA,SAAAT,EAAAC,GAYOM,OAAPP,EAMqDN,EAAAQ,OAAA,KAAAC,KAAAH,GALjD,GAAWC,EAAKJ,aACNH,EAAAQ,OAAA,KAAAC,KAAA,CAAAC,QAAV,+BAEYV,EAAAQ,OAAA,KAAAC,KAAA,CAAAC,QAAA,sCAIyBA,OAAAA,QAAOb","file":"category.min.js","sourcesContent":["const express=require('express');\r\nconst connection=require('../connection');\r\nconst router=express.Router();\r\nvar auth= require('../services/authentication');\r\nvar checkRole=require('../services/checkRole');\r\n\r\nrouter.post('/add',auth.authenticateToken,checkRole.checkRole,(req,res,next)=>{\r\n    let category=req.body;\r\n    query=\"insert into category(name) values(?)\";\r\n    connection.query(query,[category.name],(err,results)=>{\r\n        if(!err){\r\n            return res.status(200).json({message:\"Category Added Successfully\"});\r\n        }\r\n        else{\r\n            return res.status(500).json(err);\r\n        }\r\n    })\r\n})\r\n\r\nrouter.get('/get',auth.authenticateToken,(req,res,next)=>{\r\n    var query=\"select * from category order by name\";\r\n    connection.query(query,(err,results)=>{\r\n        if(!err){\r\n            return res.status(200).json(results);\r\n        }\r\n        else{\r\n            return res.status(500).json(err);\r\n        }\r\n    })\r\n})\r\n\r\nrouter.patch('/update',auth.authenticateToken,checkRole.checkRole,(req,res,next)=>{\r\n    let product=req.body;\r\n    var query=\"update category set name=? where id=?\";\r\n    connection.query(query,[product.name,product.id],(err,results)=>{\r\n        if(!err){\r\n            if(results.affectedRows == 0){\r\n                return res.status(404).json({message:\"Category id does not found\"});\r\n            }\r\n            return res.status(200).json({message:\"Category Updated Successfully\"});\r\n        }\r\n        else{\r\n            return res.status(500).json(err);\r\n        }\r\n    })\r\n})\r\n\r\nmodule.exports=router;"]}